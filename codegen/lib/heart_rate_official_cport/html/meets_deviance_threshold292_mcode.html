<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,569" id="srcline569">569</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,570" id="srcline570">570</a></span><span class="line"><span class="comment">% RETURNS TRUE IF THE INPUT SIGNAL VALUE MEETS THE DEVIANCE REQS. NOTE</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,571" id="srcline571">571</a></span><span class="line"><span class="comment">% THE THRESHOLD VALUE CHANGES BASED ON WHETHER DEVIANCE IS NEG OR POS</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,572" id="srcline572">572</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S69T2U873">meets_deviance_req</span>] = meets_deviance_threshold(<span class="var type1" id="S70T4U876">hr_value</span>, <span class="var type1" id="S71T4U877">signal_level</span>, <span class="var type1" id="S72T4U878">pos_deviance_threshold</span>, <span class="var type1" id="S73T4U879">neg_deviance_threshold</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,573" id="srcline573">573</a></span><span class="line">        <span class="mxinfo" id="T5:U6"><span class="var type1" id="S74T5U882">Fixed_Point_Properties</span> = <span class="mxinfo" id="T5:U8">numerictype(<span class="string">'WordLength'</span>, 32, <span class="string">'FractionLength'</span>, 16, <span class="string">'Signed'</span>,false)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,574" id="srcline574">574</a></span><span class="line">        <span class="mxinfo" id="T7:U9"><span class="var type1" id="S77T7U894">F</span> = <span class="mxinfo" id="T7:U11">fimath(<span class="string">'OverflowMode'</span>,<span class="string">'saturate'</span>, <span class="string">'RoundMode'</span>, <span class="string">'nearest'</span>, <span class="string">'ProductFractionLength'</span>, 16,<span class="string">'ProductMode'</span>, <span class="string">'SpecifyPrecision'</span>, <span class="string">'MaxProductWordLength'</span>, 32, <span class="string">'SumFractionLength'</span>, 16, <span class="string">'SumMode'</span>, <span class="string">'SpecifyPrecision'</span>,<span class="string">'MaxSumWordLength'</span>, 32)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,575" id="srcline575">575</a></span><span class="line">        <span class="comment">% Asserts that the input parameters are of fixed point</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,576" id="srcline576">576</a></span><span class="line">        assert(isfi(<span class="var type1" id="S70T4U918">hr_value</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,577" id="srcline577">577</a></span><span class="line">        assert(isfi(<span class="var type1" id="S71T4U924">signal_level</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,578" id="srcline578">578</a></span><span class="line">        assert(isfi(<span class="var type1" id="S72T4U930">pos_deviance_threshold</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,579" id="srcline579">579</a></span><span class="line">        assert(isfi(<span class="var type1" id="S73T4U936">neg_deviance_threshold</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,580" id="srcline580">580</a></span><span class="line">        <span class="comment">% Asserts that input parameters are of specific fixed point parameters</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,581" id="srcline581">581</a></span><span class="line">        assert(<span class="mxinfo" id="T6:U16">isequal(numerictype(<span class="var type1" id="S70T4U945">hr_value</span>), <span class="var type1" id="S74T5U946">Fixed_Point_Properties</span>) &amp;&amp; isequal(fimath(<span class="var type1" id="S70T4U951">hr_value</span>), <span class="var type1" id="S77T7U952">F</span>)</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,582" id="srcline582">582</a></span><span class="line">        assert(<span class="mxinfo" id="T6:U21">isequal(numerictype(<span class="var type1" id="S71T4U961">signal_level</span>), <span class="var type1" id="S74T5U962">Fixed_Point_Properties</span>) &amp;&amp; isequal(fimath(<span class="var type1" id="S71T4U967">signal_level</span>), <span class="var type1" id="S77T7U968">F</span>)</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,583" id="srcline583">583</a></span><span class="line">        assert(<span class="mxinfo" id="T6:U26">isequal(numerictype(<span class="var type1" id="S72T4U977">pos_deviance_threshold</span>), <span class="var type1" id="S74T5U978">Fixed_Point_Properties</span>) &amp;&amp; isequal(fimath(<span class="var type1" id="S72T4U983">pos_deviance_threshold</span>), <span class="var type1" id="S77T7U984">F</span>)</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,584" id="srcline584">584</a></span><span class="line">        assert(<span class="mxinfo" id="T6:U31">isequal(numerictype(<span class="var type1" id="S73T4U993">neg_deviance_threshold</span>), <span class="var type1" id="S74T5U994">Fixed_Point_Properties</span>) &amp;&amp; isequal(fimath(<span class="var type1" id="S73T4U999">neg_deviance_threshold</span>), <span class="var type1" id="S77T7U1000">F</span>)</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,585" id="srcline585">585</a></span><span class="line">    <span class="comment">%Accounts for the first signal value</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,586" id="srcline586">586</a></span><span class="line">    <span class="keyword">if</span> (<span class="mxinfo" id="T6:U36"><span class="var type1" id="S71T4U1005">signal_level</span> == 0</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,587" id="srcline587">587</a></span><span class="line">        <span class="mxinfo" id="T2:U38"><span class="var type1" id="S69T2U1009">meets_deviance_req</span> = <span class="mxinfo" id="T2:U40">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,588" id="srcline588">588</a></span><span class="line">        <span class="keyword">return</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,589" id="srcline589">589</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,590" id="srcline590">590</a></span><span class="line">    <span class="mxinfo" id="T57:U41"><span class="var type1" id="S82T57U1014">raw_deviance</span> = <span class="mxinfo" id="T57:U43">(<span class="mxinfo" id="T4:U44"><span class="var type1" id="S70T4U1018">hr_value</span> - <span class="var type1" id="S71T4U1019">signal_level</span></span>) / <span class="var type1" id="S71T4U1020">signal_level</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,591" id="srcline591">591</a></span><span class="line">    <span class="mxinfo" id="T57:U48"><span class="var type1" id="S83T57U1023">deviance</span> = <span class="mxinfo" id="T57:U50">abs(<span class="var type1" id="S82T57U1026">raw_deviance</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,592" id="srcline592">592</a></span><span class="line">    <span class="comment">% APPLIES CHECK </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,593" id="srcline593">593</a></span><span class="line">    <span class="keyword">if</span> (<span class="mxinfo" id="T6:U52"><span class="var type1" id="S82T57U1031">raw_deviance</span> &lt; 0</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,594" id="srcline594">594</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo" id="T6:U54"><span class="var type1" id="S83T57U1037">deviance</span> &lt; <span class="var type1" id="S73T4U1038">neg_deviance_threshold</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,595" id="srcline595">595</a></span><span class="line">            <span class="mxinfo" id="T2:U57"><span class="var type1" id="S69T2U1041">meets_deviance_req</span> = <span class="mxinfo" id="T2:U59">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,596" id="srcline596">596</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,597" id="srcline597">597</a></span><span class="line">            <span class="mxinfo" id="T2:U60"><span class="var type1" id="S69T2U1046">meets_deviance_req</span> = <span class="mxinfo" id="T2:U62">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,598" id="srcline598">598</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,599" id="srcline599">599</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,600" id="srcline600">600</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo" id="T6:U63"><span class="var type1" id="S83T57U1053">deviance</span> &lt; <span class="var type1" id="S72T4U1054">pos_deviance_threshold</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,601" id="srcline601">601</a></span><span class="line">            <span class="mxinfo" id="T2:U66"><span class="var type1" id="S69T2U1057">meets_deviance_req</span> = <span class="mxinfo" id="T2:U68">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,602" id="srcline602">602</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,603" id="srcline603">603</a></span><span class="line">            <span class="mxinfo" id="T2:U69"><span class="var type1" id="S69T2U1062">meets_deviance_req</span> = <span class="mxinfo" id="T2:U71">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,604" id="srcline604">604</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,605" id="srcline605">605</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,606" id="srcline606">606</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,607" id="srcline607">607</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,608" id="srcline608">608</a></span><span class="line"><span class="comment">%DUAL THRESHOLD PROCESSSING</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,609" id="srcline609">609</a></span><span class="line"><span class="comment">% Filters out R_peaks which don't meet the threshold reqs</span></span></span>
</pre>
